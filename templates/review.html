{% extends "base.html" %}

{% block content %}
<button class="btn btn-primary active" onclick="location.href='/api/pull_requests/new_comment/{{request.id}}'">New Review</button>
<h2>Showing Reviews for Pull Request {{request.id}}: {{request.pull_request_message}}</h2>
    <br/>
    <div class="row">
        <div class="col">
            <table class="table table-striped table-hover">
                <thead class="thead-dark">
                    <tr>
                    <th>Date</th><th>Review</th><th>Edit</th><th>Post to Github</th><th>Delete</th>
                    </tr>
                </thead>
                <tbody>
                    {% for rvw in reviews %}
                    <tr>
                        <td>{{rvw.timestamp}}</td>
                        <td>{{rvw.comment_content}}</td>
                         <td>
                            <a href='/api/pull_requests/update_comment/{{rvw.id}}' class="btn btn-primary"><span>Edit</span>
                                <i class="fas fa-eye"></i>
                            </a>
                        </td>
                        <td>
                            <a href='/api/pull_requests/post_comment/{{rvw.id}}' class="btn btn-primary"><span>Post</span>
                                <i class="fas fa-eye"></i>
                            </a>
                        </td>
                        <td>
                            <a href='/api/pull_requests/{{rvw.request_id}}/review_comment/{{rvw.id}}/delete' class="btn btn-primary"><span>Delete</span>
                                <i class="fas fa-eye"></i>
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}